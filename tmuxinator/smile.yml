name: smile
root: ~/Projects/smile/api.sweettooth.io
startup_window: terminal
tmux_options: -2

windows:
  - ngrok: ngrok start -config=.ngrok2/ngrok.yml --all
  - 'spotify/ui/js':
      layout: even-vertical
      panes:
        - cd ../smile-shopify ; git pull ; foreman start
        - cd ../smile-ui ; git pull ; foreman start
        - cd ../smile-js ; git pull ; foreman start
  - 'admin/internal/search':
      layout: even-vertical
      panes:
        - cd ../smile-admin ; git pull ; foreman start
        - cd ../smile-internal ; git pull ; foreman start
        - cd ../smile-search ; git pull ; foreman start
  #- web-analytics: cd ../smile-web-analytics ; foreman start
  - ingestion/api:
      layout: even-horizontal
      panes:
        - cd ../smile-data-ingestion-endpoints ; foreman start
        - compose up -d ; foreman start
  - console: foreman run bundle exec rails console
  - terminal: mine .
  - labs: open /Applications/Slack.app ; labs
